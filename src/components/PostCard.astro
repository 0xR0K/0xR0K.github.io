---
const { title, date, url, slug } = Astro.props;
const imagePath = `/images/${slug}/portada.png`;
const formattedDate = new Date(date).toLocaleDateString('es-ES', {
	year: 'numeric',
	month: 'short',
	day: 'numeric',
});
---

<article class="post-card">
	<a href={`/articulos/${slug}`}>
		<div class="post-image-container">
			<img 
				src={imagePath} 
				alt={`Portada de ${title}`} 
				loading="lazy"
				onerror="this.onerror=null; this.src='https://via.placeholder.com/800x450/111111/333333?text=LifeOnline';" 
			/>
		</div>

		<div class="post-content">
			<span class="post-date">{formattedDate}</span>
			<h2 class="post-title">{title}</h2>
		</div>
	</a>
</article>

<style>
	.post-card { 
		display: flex; 
		flex-direction: column; 
		background: var(--bg-card); 
		border: 1px solid var(--border-color);
		border-radius: 8px; 
		overflow: hidden;
		transition: transform 0.2s, border-color 0.3s, box-shadow 0.3s;
	}

	.post-card:hover { 
		transform: translateY(-4px); 
		border-color: var(--accent);
		box-shadow: 0 4px 20px rgba(0,0,0,0.2);
	}

	.post-card a {
		text-decoration: none;
		color: inherit;
		display: flex;
		flex-direction: column;
		height: 100%;
	}

	.post-image-container {
		width: 100%; 
		aspect-ratio: 16 / 9; 
		overflow: hidden;
		background-color: var(--bg-header); 
		border-bottom: 1px solid var(--border-color);
		position: relative;
	}

	.post-image-container img {
		width: 100%; 
		height: 100%; 
		object-fit: cover; 
		transition: transform 0.5s ease;
	}

	.post-card:hover .post-image-container img { 
		transform: scale(1.05); 
	}

	.post-content { 
		padding: 20px; 
		flex-grow: 1; 
		display: flex; 
		flex-direction: column; 
	}

	.post-title {
		font-size: 1.2rem; 
		font-weight: 700; 
		color: var(--text-bright);
		margin-bottom: 10px; 
		line-height: 1.3;
		margin-top: 5px;
	}

	.post-date {
		font-size: 0.85rem; 
		color: var(--text-main); 
		opacity: 0.6;
		font-family: var(--font-code);
		text-transform: uppercase;
		letter-spacing: 1px;
	}
</style>.
